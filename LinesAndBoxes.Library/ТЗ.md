# Алгоритм расстановки линий на прямоугольниках
## Дано
1. Есть массив прямоугольников в файле .json. 
Каждый прямоугольник представлен 2-мя точками с координатами, соответственно
это верхний левый и нижний правый углы прямоугольника.
2. Гарантируется, что все прямоугольники строго параллельны друг другу и
не пересекаются, так же они все расположены либо горизонтально,
либо вертикально (либо одна, либо вторая сторона расположена параллельно
основной оси).
3. Длина прямоугольников отмеряется по оси X, ширина - по оси Y.
4. Ширины прямоугольников могут повторяться. 
5. Не гарантируется, что прямоугольники представляют из себя единую фигуру,
т.е. они могут располагаться сколь угодно далеко друг от друга на плоскости.
6. Есть переменная **L0**, обозначающая максимальное расстояние между линиями.
Гарантированно, что переменная больше 0.
7. Есть переменная **L1**, обозначающая максимальное расстояние между линией
и краем каждого прямоугольника. Гарантированно, что переменная больше 0.
8. Есть переменная **L2**, обозначающая минимальную длину прямоугольника
для расположения на ней двух линий.
9. Гарантированно, что **L0** >= **L1**.
10. Гарантированно, что **L1** > **L2**.
11. Есть переменная **A**, обозначающая угол, на который надо будет поворачивать
все строящиеся прямые. Угол отсчитывается от оси Y против часовой стрелки.
Гарантированно значение угла от -180 до 180 и не равно 180 или -180. 
По умолчанию 0.
12. Есть переменная **W1**, обозначающая кратность длины получаемой линии.
## Задача
Необходимо расположить линии на данных прямоугольниках так, чтобы они удовлетворяли
следующим условиям:
1. Расстояние между двумя линиями, пересекающие однин прямоугольник максимум
**L0**.
2. Прямоугольник, длиной более **L2** должен пересекаться минимум двумя линиями.
3. Прямоугольник, длиной менее либо равно **L2** может пересекаться одной линией.
4. Расстояние между пересечением линии и краем прямоугольника меньше либо
равно **L1**.
5. Линии должны быть длиной минимум \[2 * **W1**\].
6. Одна линия должна пересекать минимум два прямоугольника.
7. Количество пересечений должно быть сведено к минимуму.
8. Общая длина линий должна быть сведена к минимуму.
## Результат
Алгоритм должен быть оформлен в виде класса, в котором есть метод, который
принимает массив из прямоугольников "как они есть" и параметры,
необходимые для работы алгоритма.
Результатом должен быть массив из линий, где указаны две координаты - начало
и конец.
Для тестов нужно сделать консольную программу, которая будет принимать на
вход параметр пути до файла json и другие параметры, необходимые для работы
алгоритма. В итоге должен быть сформировано изображение с прямоугольниками
и линиями. Желательно их разделить цветом.
Язык программирования: C#. Фреймворк не ниже .Net 5.0.
## Вариант решения
Данный алгоритм не является оптимальным, но может быть одним из решений
(это надо проверить):
1. Проходимся по массиву и расставляем ПРЕДВАРИТЕЛЬНЫЕ точки:
   1. Если длина панели меньше **L2**, то ставим предварительную точку
точно по середине панели.
   2. Если длина панели меньше либо равно \[3 * **L1**\], то ставятся две равноудаленные
точки как друг от друга, так и от краев панелей.
   3. Если длина панели больше \[3 * **L1**\], но меньше \[2 * **L1** + **L0**\]
и при этом **L1** != **L0**, то ставятся две точки, отступающие от краев
панели на **L1**.
   4. Если длина панели больше \[2 * **L1** + **L0**\], то ставятся две
точки, отступающие от краев панели на **L1**, и такое количество точек
в центре, чтобы, расстояние между всеми точками не превышало **L0**
2. Далее все точки необходимо кластеризировать так, чтобы:
   1. В каждом кластере оказались точки в которых есть пары, расстояние
между которыми не более **L0**.
   2. Пары точек должны быть представлены точками на соседних прямоугольниках.
   3. Соседним является прямоугольник (точнее их два, верхний и нижний),
который находится наиболее близко по оси Y к прямоугольнику, и хотя бы две
его координаты находятся в области рассматриваемой панели по оси X.
   4. Точки не могут быть предствалены в двух кластерах одновременно.
3. Для каждого кластера считается его центр масс и через него проводится
линия под заданным углом так, чтобы она не выходила за пределы кластера.
4. Все точки пересечения линий закрепляются.
5. Повторяется алгоритм, но с учетом уже закрепленных точек до тех пор, пока
ни одной новой точки нельзя будет поставить.
6. Проводится проверка условий 5 и 6. Условия 7 и 8 в данном варианте решения
не проверяется. Если какие-то линии не соотвествуют условиям, то они
удлиняются до необходимого размера.
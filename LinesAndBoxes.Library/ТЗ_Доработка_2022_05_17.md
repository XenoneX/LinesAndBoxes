# Алгоритм расстановки линий на прямоугольниках

## Исправления

Выявлены несколько ошибок, которорые необходимо исправить:

1. В случае, когда прямоугольники находятся вплотную друг к
   другу линии начинают строятся хоть и корректно, но
   получается слишком много "коротышей".
2. Такая же проблема возникает, когда расстояние между
   прямоугольниками имеет неоднородный характер
3. По возможности сделать скрипт поддерживающий фреймворк
   .Net 4.8. Или не использовать в самом скрипте "фишки" из
   .Net Core, вроде Linq maxBy и minBy.
4. Для значений с плавающей точкой использовать double вместо
   float.

Примеры такой ошибки в файлах:

1. 2022-05-17-16-16-30-551.json
2. 2022-05-17-16-20-37-441.json
3. 2022-05-17-16-30-24-382.json
4. 2022-05-17-16-33-02-035.json

## Доработка

### Разделение стрингера

В первоначальной задаче был параметр **W1**, который обозначал
кратность итоговых отрезков. В итоговом варианте он не был
использован.

Так же был добавлен параметр **maxLen**, обозначающий
маскимальную длину отрезка.

Пришло время их использовать.

Теперь необходимо итоговую раскладку переделать так, чтобы все
длины итоговых отрезков были кратны **W1** и их длина не
превышала **maxLen**.

При этом гарантируется, что **maxLen** >= 2 * **W1**.

Так же добавляются новые переменные x0 и y0 - координаты "начала
кратности отрезков"

Итоговую раскладку стринегров нужно разделить специфическим
образом:

1. Поле, на котором находятся прямоугольники "разлиновывается"
   "линиями" от точки с координатами x0 и y0. Все линии находятся
   на расстоянии **W1** друг от друга
2. Нужно удлинить отрезки так, чтобы они пересеклись с линиями,
   находящимися вне отрезка.
3. Если отрезок более **maxLen**, то его надо разделить так,
   чтобы полученные куски "заходили" друг на друга, при этом
   между ними было расстояние **L3** и при этом все остальные
   ограничения из изначальной задачи выполнялись.

Визуальное пояснение прилагается.